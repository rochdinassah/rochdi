#!/usr/bin/env node

// author: rochdi nassah
// created: 2025/09/18

'use strict';

const log = console.log;

const rochdi = require('../');

const { HttpClient, formatDuration, rand } = rochdi;

const httpClient = new HttpClient({ xuserAgent: 'c', retryOnError: true });

const endpoint = {
  url: 'https://echo.free.beeceptor.com',
  headers: {
    'accept-encoding': 'gzip, deflate, br, zstd',
    'user-agent': 'hello',
    qux: 16
  }
};

const { url, headers } = endpoint;

exit(formatDuration(4e3+64));

httpClient.get(url, { headers, retryOnError: false }).then(res => {
  log(res.data.headers);
}).catch(err => {
  log(err);
});