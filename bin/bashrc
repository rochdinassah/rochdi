#!/bin/bash

# author: rochdi nassah
# created: 2025/09/19

# aliases start
alias desktop='cd ~/Desktop'
alias c='clear'
alias cleartmp='sudo rm -rf /tmp/* /tmp/.*'
alias rochdi='desktop; cd rochdi; code .'
alias syn='echo ack'
alias rw='desktop; cd rochdi; npm run rw'
if [ $(pwd) == $(echo ~) ]; then desktop; fi
# aliases end

# functions start
push() {
  commit=$@

  if [ 0 == ${#commit} ]
  then
    commit='noop, sync with remote'
  fi

  git add -A
  git commit -m "$commit"
  git push
}

extract() {
  outdir=/tmp/$(echo $1 | sed 's/\.[a-z].*//i')
  tar --file $1 --extract - &&
  cd $outdir
}

mkdir() {
  /usr/bin/mkdir $1 && cd $1
}
# functions end

# redis start
redisExist=$(which redis-server)
if [ 0 == ${#redisExist} ]
then
  wget https://github.com/redis/redis/archive/refs/tags/8.0.0.tar.gz -O /tmp/redis.tar.gz &&
  cd /tmp &&
  tar --extract --file redis.tar.gz &&
  rm -rf redis.tar.gz &&
  cd redis-8.0.0 &&
  make -j 8 &&
  sudo make install &&
  echo redis installation complete!
  echo server: $(which redis-server)
  echo cli: $(which redis-cli)
fi
# redis end