#!/usr/bin/env node

// author: rochdi nassah

'use strict';

const manager = new (require('../').Discord)(process.argv[2], { presence_status: 'invisible' });

manager.connect().then(ok => {
  manager.disconnect();
  
  if (!ok)
    exit('error');

  const { bot, global_name, username, id, email } = manager.user;
  exit('success(%s), %s(%s)', bot ? 'bot' : 'user', global_name ?? username, email ?? id);
});